CommitId: 4eb79cc1dd070881f3ff12b80ff6f9f80220aac8
This commit was generated by cvs2svn to compensate for changes in r8, which
--- a/ham_7_4_enc/rtl/verilog/ham_7_4_enc_wb.v
+++ b/ham_7_4_enc/rtl/verilog/ham_7_4_enc_wb.v
@@ -53,44 +53,43 @@ of the 4-bit message vector with the generator matrix, G.
 C=M*G,
 
 where 
-# M is the 4-bit message M=[m1 m2 m3 m4]
-# G is the generator matrix
+M is the 4-bit message M=[m1 m2 m3 m4]
+G is the generator matrix
 	
 		1110000
-	G =     1001100
+	G =   1001100
 		0101010
 		1101001
-# and C is the corresponding codeword C=[c1 c2 c3 c4 c5 c6 c7];
+and C is the corresponding codeword C=[c1 c2 c3 c4 c5 c6 c7];
 
 
 2.Functionality:
+================
+
+WISHBONE SIGNALS
 ----------------
 
 CLK_I		: Posedge clock.
-RST_I  		: Active HIGH synchronous reset.
+RST_I  	: Active HIGH synchronous reset.
 
-#Slave part:
+#Slave signals:
 
 STB_I		: Active HIGH.
-DAT_I[7:0]	: Message input, valid when STB_I and CYC_I are HIGH. DAT_I[7:4] is ignored.
-ADR_I[3:0]	: Active when ADR_I is equal to the parameter "ham_enc_adr_in".
+DAT_I[7:0]	: Message input, valid when STB_I, CYC_I and WE_I are HIGH. DAT_I[7:4] is ignored.
+DAT_O[7:0]	: Codeword. Can be monitored by a master module when WE_I is LOW. DAT_O[7] is stuck at 0.
+ADR_I		: Not Used
 ACK_O		: Acknowledge signal: Ready for new data when ACK_O is HIGH.
-WE_I		: Active HIGH. 
+WE_I		: Encoding is performed when WE_I is HIGH. 
 CYC_I		: Active HIGH.
 
+NON-WISHBONE SIGNALS
+--------------------
 
-#master part:
-
-STB_O		: Active High. 
-DAT_O[7:0]	: Valid when STB_O is HIGH. DAT_O[7] is stuck at 0.
-ADR_O[3:0]	: Stuck at parameter "ham_enc_adr_out".
-ACK_I		: Acknowledge signal: Ready for new data transmission.
-WE_O		: Active HIGH.
-CYC_O		: Active HIGH.
+CODEWORD[7:0] 	: Codeword. Can be monitored by a master module when WE_I is LOW. DAT_O[7] is stuck at 0.
+DV_OUT		: Indicates valid codeword when HIGH.
 
- 
 */
-///////////////////////////////////
+//////////////////////////////////////////////
 
 module ham_7_4_enc (
 CLK_I,

ParseResult:
UPD HdlModuleDef@@ham_7_4_enc to ham_7_4_enc
    MOV list@@objs to ham_7_4_enc
    list: objs
        HdlIdDef: ACK_I_reg
            HdlOp: PARAMETRIZATION
                list: ops
                    HdlValueId: reg
            HdlDirection: INTERNAL
        HdlStmAssign
            HdlValueId: ACK_I
            HdlValueId: ACK_O
        HdlStmAssign
            HdlValueId: ham_enc_adr_out
            HdlValueId: ADR_O
        HdlStmAssign
            HdlValueInt: 1
            HdlValueId: WE_O
        HdlStmProcess
            list: sensitivity
                HdlOp: RISING
                    list: ops
                        HdlValueId: CLK_I
            HdlStmIf: body
                HdlValueId: RST_I
                HdlStmAssign: if_true
                    HdlValueInt: 0
                    HdlValueId: DAT_O
                list: elifs
                    tuple
                        HdlOp: EQ
                            list: ops
                                HdlValueId: ADR_I
                                HdlValueId: ham_enc_adr_in
                        HdlStmBlock: SEQ
                            list: body
                                HdlStmIf
                                    HdlOp: AND_LOG
                                        list: ops
                                            HdlOp: AND_LOG
                                                list: ops
                                                    HdlValueId: STB_I
                                                    HdlValueId: WE_I
                                            HdlValueId: CYC_I
                                    HdlStmBlock: SEQ
                                        list: body
                                            HdlStmAssign
                                                HdlOp: XOR
                                                    list: ops
                                                        HdlOp: XOR
                                                            list: ops
                                                                HdlOp: INDEX
                                                                    list: ops
                                                                        HdlValueId: DAT_I
                                                                        HdlValueInt: 3
                                                                HdlOp: INDEX
                                                                    list: ops
                                                                        HdlValueId: DAT_I
                                                                        HdlValueInt: 2
                                                        HdlOp: INDEX
                                                            list: ops
                                                                HdlValueId: DAT_I
                                                                HdlValueInt: 0
                                                HdlOp: INDEX
                                                    list: ops
                                                        HdlValueId: DAT_O
                                                        HdlValueInt: 0
                                            HdlStmAssign
                                                HdlOp: XOR
                                                    list: ops
                                                        HdlOp: XOR
                                                            list: ops
                                                                HdlOp: INDEX
                                                                    list: ops
                                                                        HdlValueId: DAT_I
                                                                        HdlValueInt: 3
                                                                HdlOp: INDEX
                                                                    list: ops
                                                                        HdlValueId: DAT_I
                                                                        HdlValueInt: 1
                                                        HdlOp: INDEX
                                                            list: ops
                                                                HdlValueId: DAT_I
                                                                HdlValueInt: 0
                                                HdlOp: INDEX
                                                    list: ops
                                                        HdlValueId: DAT_O
                                                        HdlValueInt: 1
                                            HdlStmAssign
                                                HdlOp: INDEX
                                                    list: ops
                                                        HdlValueId: DAT_I
                                                        HdlValueInt: 3
                                                HdlOp: INDEX
                                                    list: ops
                                                        HdlValueId: DAT_O
                                                        HdlValueInt: 2
                                            HdlStmAssign
                                                HdlOp: XOR
                                                    list: ops
                                                        HdlOp: XOR
                                                            list: ops
                                                                HdlOp: INDEX
                                                                    list: ops
                                                                        HdlValueId: DAT_I
                                                                        HdlValueInt: 2
                                                                HdlOp: INDEX
                                                                    list: ops
                                                                        HdlValueId: DAT_I
                                                                        HdlValueInt: 1
                                                        HdlOp: INDEX
                                                            list: ops
                                                                HdlValueId: DAT_I
                                                                HdlValueInt: 0
                                                HdlOp: INDEX
                                                    list: ops
                                                        HdlValueId: DAT_O
                                                        HdlValueInt: 3
                                            HdlStmAssign
                                                HdlOp: INDEX
                                                    list: ops
                                                        HdlValueId: DAT_I
                                                        HdlValueInt: 2
                                                HdlOp: INDEX
                                                    list: ops
                                                        HdlValueId: DAT_O
                                                        HdlValueInt: 4
                                            HdlStmAssign
                                                HdlOp: INDEX
                                                    list: ops
                                                        HdlValueId: DAT_I
                                                        HdlValueInt: 1
                                                HdlOp: INDEX
                                                    list: ops
                                                        HdlValueId: DAT_O
                                                        HdlValueInt: 5
                                            HdlStmAssign
                                                HdlOp: INDEX
                                                    list: ops
                                                        HdlValueId: DAT_I
                                                        HdlValueInt: 0
                                                HdlOp: INDEX
                                                    list: ops
                                                        HdlValueId: DAT_O
                                                        HdlValueInt: 6
                                    list: elifs
        HdlStmProcess
            list: sensitivity
                HdlOp: RISING
                    list: ops
                        HdlValueId: CLK_I
            HdlStmAssign: body
                HdlValueId: ACK_I
                HdlValueId: ACK_I_reg
        HdlStmProcess
            list: sensitivity
                HdlOp: RISING
                    list: ops
                        HdlValueId: CLK_I
            HdlStmIf: body
                HdlValueId: RST_I
                HdlStmAssign: if_true
                    HdlValueInt: 0
                    HdlValueId: CYC_O
                list: elifs
                    tuple
                        HdlOp: EQ
                            list: ops
                                HdlValueId: ADR_I
                                HdlValueId: ham_enc_adr_in
                        HdlStmAssign
                            HdlValueId: CYC_I
                            HdlValueId: CYC_O
        HdlStmProcess
            list: sensitivity
                HdlOp: RISING
                    list: ops
                        HdlValueId: CLK_I
            HdlStmIf: body
                HdlValueId: RST_I
                HdlStmAssign: if_true
                    HdlValueInt: 0
                    HdlValueId: STB_O
                list: elifs
                    tuple
                        HdlOp: EQ
                            list: ops
                                HdlValueId: ADR_I
                                HdlValueId: ham_enc_adr_in
                        HdlStmBlock: SEQ
                            list: body
                                HdlStmIf
                                    HdlOp: AND_LOG
                                        list: ops
                                            HdlValueId: ACK_I
                                            HdlOp: NEG_LOG
                                                list: ops
                                                    HdlValueId: ACK_I_reg
                                    HdlStmAssign: if_true
                                        HdlValueInt: 0
                                        HdlValueId: STB_O
                                    list: elifs
                                    HdlStmAssign: if_false
                                        HdlValueId: STB_I
                                        HdlValueId: STB_O

MOV HdlModuleDef@@ham_7_4_enc to objs
HdlModuleDef: ham_7_4_enc
    HdlModuleDec: ham_7_4_enc
        list: params
            HdlIdDef: ham_enc_adr_in
                HdlValueInt: 1111
                HdlDirection: INTERNAL
            HdlIdDef: ham_enc_adr_out
                HdlValueInt: 1010
                HdlDirection: INTERNAL
        list: ports
            HdlIdDef: CLK_I
                HdlDirection: IN
            HdlIdDef: RST_I
                HdlDirection: IN
            HdlIdDef: STB_I
                HdlDirection: IN
            HdlIdDef: DAT_I
                HdlOp: PARAMETRIZATION
                    list: ops
                        HdlValueId: wire
                        HdlOp: DOWNTO
                            list: ops
                                HdlValueInt: 7
                                HdlValueInt: 0
                HdlDirection: IN
            HdlIdDef: ADR_I
                HdlOp: PARAMETRIZATION
                    list: ops
                        HdlValueId: wire
                        HdlOp: DOWNTO
                            list: ops
                                HdlValueInt: 3
                                HdlValueInt: 0
                HdlDirection: IN
            HdlIdDef: ACK_O
                HdlDirection: OUT
            HdlIdDef: WE_I
                HdlDirection: IN
            HdlIdDef: CYC_I
                HdlDirection: IN
            HdlIdDef: STB_O
                HdlOp: PARAMETRIZATION
                    list: ops
                        HdlValueId: reg
                HdlDirection: OUT
            HdlIdDef: DAT_O
                HdlOp: PARAMETRIZATION
                    list: ops
                        HdlValueId: reg
                        HdlOp: DOWNTO
                            list: ops
                                HdlValueInt: 7
                                HdlValueInt: 0
                HdlDirection: OUT
            HdlIdDef: ADR_O
                HdlOp: PARAMETRIZATION
                    list: ops
                        HdlValueId: wire
                        HdlOp: DOWNTO
                            list: ops
                                HdlValueInt: 3
                                HdlValueInt: 0
                HdlDirection: OUT
            HdlIdDef: ACK_I
                HdlDirection: IN
            HdlIdDef: WE_O
                HdlDirection: OUT
            HdlIdDef: CYC_O
                HdlOp: PARAMETRIZATION
                    list: ops
                        HdlValueId: reg
                HdlDirection: OUT
        list: objs
    list: objs
        HdlIdDef: ACK_I_reg
            HdlOp: PARAMETRIZATION
                list: ops
                    HdlValueId: reg
            HdlDirection: INTERNAL
        HdlStmAssign
            HdlValueId: ACK_I
            HdlValueId: ACK_O
        HdlStmAssign
            HdlValueId: ham_enc_adr_out
            HdlValueId: ADR_O
        HdlStmAssign
            HdlValueInt: 1
            HdlValueId: WE_O
        HdlStmProcess
            list: sensitivity
                HdlOp: RISING
                    list: ops
                        HdlValueId: CLK_I
            HdlStmIf: body
                HdlValueId: RST_I
                HdlStmAssign: if_true
                    HdlValueInt: 0
                    HdlValueId: DAT_O
                list: elifs
                    tuple
                        HdlOp: EQ
                            list: ops
                                HdlValueId: ADR_I
                                HdlValueId: ham_enc_adr_in
                        HdlStmBlock: SEQ
                            list: body
                                HdlStmIf
                                    HdlOp: AND_LOG
                                        list: ops
                                            HdlOp: AND_LOG
                                                list: ops
                                                    HdlValueId: STB_I
                                                    HdlValueId: WE_I
                                            HdlValueId: CYC_I
                                    HdlStmBlock: SEQ
                                        list: body
                                            HdlStmAssign
                                                HdlOp: XOR
                                                    list: ops
                                                        HdlOp: XOR
                                                            list: ops
                                                                HdlOp: INDEX
                                                                    list: ops
                                                                        HdlValueId: DAT_I
                                                                        HdlValueInt: 3
                                                                HdlOp: INDEX
                                                                    list: ops
                                                                        HdlValueId: DAT_I
                                                                        HdlValueInt: 2
                                                        HdlOp: INDEX
                                                            list: ops
                                                                HdlValueId: DAT_I
                                                                HdlValueInt: 0
                                                HdlOp: INDEX
                                                    list: ops
                                                        HdlValueId: DAT_O
                                                        HdlValueInt: 0
                                            HdlStmAssign
                                                HdlOp: XOR
                                                    list: ops
                                                        HdlOp: XOR
                                                            list: ops
                                                                HdlOp: INDEX
                                                                    list: ops
                                                                        HdlValueId: DAT_I
                                                                        HdlValueInt: 3
                                                                HdlOp: INDEX
                                                                    list: ops
                                                                        HdlValueId: DAT_I
                                                                        HdlValueInt: 1
                                                        HdlOp: INDEX
                                                            list: ops
                                                                HdlValueId: DAT_I
                                                                HdlValueInt: 0
                                                HdlOp: INDEX
                                                    list: ops
                                                        HdlValueId: DAT_O
                                                        HdlValueInt: 1
                                            HdlStmAssign
                                                HdlOp: INDEX
                                                    list: ops
                                                        HdlValueId: DAT_I
                                                        HdlValueInt: 3
                                                HdlOp: INDEX
                                                    list: ops
                                                        HdlValueId: DAT_O
                                                        HdlValueInt: 2
                                            HdlStmAssign
                                                HdlOp: XOR
                                                    list: ops
                                                        HdlOp: XOR
                                                            list: ops
                                                                HdlOp: INDEX
                                                                    list: ops
                                                                        HdlValueId: DAT_I
                                                                        HdlValueInt: 2
                                                                HdlOp: INDEX
                                                                    list: ops
                                                                        HdlValueId: DAT_I
                                                                        HdlValueInt: 1
                                                        HdlOp: INDEX
                                                            list: ops
                                                                HdlValueId: DAT_I
                                                                HdlValueInt: 0
                                                HdlOp: INDEX
                                                    list: ops
                                                        HdlValueId: DAT_O
                                                        HdlValueInt: 3
                                            HdlStmAssign
                                                HdlOp: INDEX
                                                    list: ops
                                                        HdlValueId: DAT_I
                                                        HdlValueInt: 2
                                                HdlOp: INDEX
                                                    list: ops
                                                        HdlValueId: DAT_O
                                                        HdlValueInt: 4
                                            HdlStmAssign
                                                HdlOp: INDEX
                                                    list: ops
                                                        HdlValueId: DAT_I
                                                        HdlValueInt: 1
                                                HdlOp: INDEX
                                                    list: ops
                                                        HdlValueId: DAT_O
                                                        HdlValueInt: 5
                                            HdlStmAssign
                                                HdlOp: INDEX
                                                    list: ops
                                                        HdlValueId: DAT_I
                                                        HdlValueInt: 0
                                                HdlOp: INDEX
                                                    list: ops
                                                        HdlValueId: DAT_O
                                                        HdlValueInt: 6
                                    list: elifs
        HdlStmProcess
            list: sensitivity
                HdlOp: RISING
                    list: ops
                        HdlValueId: CLK_I
            HdlStmAssign: body
                HdlValueId: ACK_I
                HdlValueId: ACK_I_reg
        HdlStmProcess
            list: sensitivity
                HdlOp: RISING
                    list: ops
                        HdlValueId: CLK_I
            HdlStmIf: body
                HdlValueId: RST_I
                HdlStmAssign: if_true
                    HdlValueInt: 0
                    HdlValueId: CYC_O
                list: elifs
                    tuple
                        HdlOp: EQ
                            list: ops
                                HdlValueId: ADR_I
                                HdlValueId: ham_enc_adr_in
                        HdlStmAssign
                            HdlValueId: CYC_I
                            HdlValueId: CYC_O
        HdlStmProcess
            list: sensitivity
                HdlOp: RISING
                    list: ops
                        HdlValueId: CLK_I
            HdlStmIf: body
                HdlValueId: RST_I
                HdlStmAssign: if_true
                    HdlValueInt: 0
                    HdlValueId: STB_O
                list: elifs
                    tuple
                        HdlOp: EQ
                            list: ops
                                HdlValueId: ADR_I
                                HdlValueId: ham_enc_adr_in
                        HdlStmBlock: SEQ
                            list: body
                                HdlStmIf
                                    HdlOp: AND_LOG
                                        list: ops
                                            HdlValueId: ACK_I
                                            HdlOp: NEG_LOG
                                                list: ops
                                                    HdlValueId: ACK_I_reg
                                    HdlStmAssign: if_true
                                        HdlValueInt: 0
                                        HdlValueId: STB_O
                                    list: elifs
                                    HdlStmAssign: if_false
                                        HdlValueId: STB_I
                                        HdlValueId: STB_O


